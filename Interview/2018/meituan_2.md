## 美团二面
美团餐饮开放平台

1.自我介绍
	XXX
	
2.你为什么能够胜任这项工作？
	1.数据结构和算法基础扎实
	2.喜欢钻研技术。
	比如什么呢？比如：Java语言特性，JVM基础等，Spring框架，框架原理等？

3.JVM基础是什么？
	比如：JVM内存结构，JVM垃圾回收等。内存结构分为：
		方法区：存放静态变量、类信息等，类信息支持Java反射等。
		虚拟机栈区：栈区属于线程私有的，因此能够保证线程安全。
		本地方法栈区：Java的Native方法，Native方法主要是支持Java调用一些系统调用。
		堆区：存放对象实例的。
		程序计数器：存放下一条将要执行的字节码指令。
		
4.静态变量如何初始化的？
	1.类加载的过程中，在链接阶段的准备阶段初始化，和在初始化阶段赋值。面试官不是想问这个。
	2.使用static方法进行初始化。c++里面如何实现的？
		1.在.cpp文件中初始化。
		可以在.h文件中初始化吗？
		肯定可以的，存在问题：
			1.不需要使用这个静态变量的地方，因为include这个头文件的时候，也会初始化这个变量，浪费资源。
			2.多个文件重复include这个头文件，就会编译失败。错误：重复定义某个变量
			
5.堆空间和栈空间如何分配内存地址的，从小到大还是从大到小？
	计算机体系结构：大尾端、小尾端有关系吗？
	
6.一个头文件定义一个ClassB，ClassA中想要使用ClassB会如何使用？
	1.include这个头文件b.h就可以。这个时候会知道ClassB的整个类结构信息。
	如果只是使用一个ClassB的指针，需要如何使用？
		1.肯定不需要include整个类B的类定义文件。
	
7.copyOnWrite知道吗？
	写时复制，linux操作系统内核有用到。fork()创建子进程的时候，会用到的。
	原理：不用的时候，只是逻辑上的复制，真正的使用的时候，才会进行具体的复制操作。

8.String 对象，如何实现对char* 内存区域的写时复制？
	一直理解错了面试官的问题，以为是多个指针如何指向一个String堆对象，不需要创建多个。因此一直讲使用引用计数就可以控制对象的引用和销毁。引用计数：类中增加一个计数字段即可。
	最后才明白，面试官想问的是char*的内存区域，如何做到写时复制。两个对象都是new出来的，只是char*，指向同一个区域。
	这个时候，创建在对象成员变量的count计数，属于对象私有的，对象析构之后，就销毁了。
	此时想要实现写时复制，char* 区域，必须有标记字段，才可以(比如多给一块内存，专门存储这个标记信息)。否则char* 会被直接析构了，而不知道其他还有指针指向它。
	
9.cache和buffer的区别
	cache是缓存作用，主要是替换。属于内存的映射，提高性能。
	buffer是缓冲区，主要是集中收集信息，集中处理，一次处理，达到批处理的效果。
	特别在socket流，磁盘io的时候。一次io都是处理一个磁盘块的，而不是一个个字符的处理。因为磁盘处理的最大时间开销是：寻道、寻址。
	9.2很多连接的块，如何实现高效的存储？
		减少磁盘寻道、寻址的时间，连续存储最好。找到一个足够大的连续物理空间，连续存放。
		
10.cache的淘汰策略知道吗？
	LRU 最近最久未使用
	最近最少使用
	FIFO
	Best 未来最久不被使用 理想算法
	
	LRU算法如何实现？
		使用一个链表维护记录。最近使用的放在表头，淘汰表尾的。(双端队列实现) O(n)时间复杂度
		加一个索引，实现log(n)的，但是没有用，链表知道索引没有用，链表的寻址是O(n)
		
11.最近在学习什么技术？
	多线程和Redis
	10.2 Redis学习怎么样了？
	研究到了如何使用Redis实现分布式锁。其他呢？
	知道Redis是No-SQL key-value内存数据库。有五种数据结构：string list set zset map
	10.3 知道Memcached吗？
		知道Redis的String类型，等价于memcached，memcached只支持一种数据类型，不支持事务等。
	
12.网络通信熟悉吗？
	不是非常熟悉，知道TCP/IP协议等
	
13.进程中可以创建多少线程，比如32位机，如何计算线程创建的开销？
	理论上，只要资源够用，可以无限创建，直到内存不够用。
	线程开销，是一个函数指针吗，如果是的，指针就是32byte的，一除就可以。

14.如何保证线程安全？
	加锁，java最简单的就是synchronized，互斥信号量，原子操作(CAS算法等)
	解释互斥信号量，cas

15.设计模式熟悉吗？
	只知道单例模式，工厂模式，策略模式。
	单例模式如何实现？
	恶汉模式，有什么问题？
	在初始化的时候立马创建，没有使用的时候，严重浪费资源。但是简单，线程安全的。
	懒汉模式:n种实现方式。存在什么问题。
	
16.项目
	1.如何实现数据库优化的
	2.为什么使用微服务

17.spring bean创建过程，ioc原理。(喜马拉雅)
	
#### 算法题：
	找出二叉查找树中大于k的最小节点。